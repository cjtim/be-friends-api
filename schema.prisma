datasource db {
    // could be postgresql or mysql
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

generator db {
    provider = "go run github.com/prisma/prisma-client-go"
    // set the output folder and package name
    output   = "./repository"
    package  = "repository"
}

model Users {
    id            String       @id @default(cuid())
    name          String
    loginMethodId Int
    LineUsers     LineUsers[]
    JwtUsers      JwtUsers[]
    loginMethods  LoginMethods @relation(fields: [loginMethodId], references: [id])

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
}

model LoginMethods {
    id   Int    @id @default(autoincrement())
    name String

    Users Users[]
}

model JwtUsers {
    id       Int    @id @default(autoincrement())
    email    String
    password String

    Users  Users  @relation(fields: [userId], references: [id])
    userId String

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
}

model LineUsers {
    lineUid    String  @id @unique
    name       String
    profilePic String?

    userId String @unique
    user   Users  @relation(fields: [userId], references: [id])

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
}
